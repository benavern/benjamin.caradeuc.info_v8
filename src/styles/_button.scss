.btn {
    // default styles
    display: inline-flex;
    gap: var(--spacing);
    align-items: center;
    justify-content: center;
    appearance: none;
    font: inherit;
    border: none;
    color: inherit;
    text-decoration: none;
    background-color: unset;
    border: var(--border-width) solid transparent;
    border-radius: var(--border-radius);
    min-height: var(--btn-min-height);
    line-height: var(--btn-line-height);
    padding: calc((var(--btn-min-height) - var(--btn-line-height) * 1rem) / 2) var(--spacing);
    cursor: pointer;
    transition: {
        duration: var(--transition-duration);
        property: opacity, background-color, color, border-color, min-height, box-shadow;
    }

    &:disabled,
    &[aria-disabled="true"] {
        cursor: not-allowed;
        opacity: .5;
        box-shadow: none;
    }

    // icon
    &__icon {
        font-size: var(--btn-icon-size);

        > svg {
            display: block;
        }
    }

    // We can assume that when the button is busy, the icon is mdi:loading, we want it to spin ðŸŒ€
    &[aria-busy="true"] &__icon {
        animation: spin 1s linear infinite;
    }

    // variants
    &--variant-primary {
        color: var(--clr-bg);
        background-color: var(--clr-primary);

        &:not(:disabled):not([aria-disabled="true"]):hover {
            background-color: var(--clr-primary-alt);
            box-shadow: var(--shadow);
        }
    }

    &--variant-primary-border {
        color: var(--clr-primary);
        background-color: transparent;
        border-color: var(--clr-primary);

        &:not(:disabled):not([aria-disabled="true"]):hover {
            color: var(--clr-bg);
            background-color: var(--clr-primary-alt);
            border-color: var(--clr-primary-alt);
            box-shadow: var(--shadow);
        }
    }

    &--variant-secondary {
        color: var(--clr-txt);
        background-color: var(--clr-border);

        &:not(:disabled):not([aria-disabled="true"]):hover {
            background-color: var(--clr-border-alt);
            box-shadow: var(--shadow);
        }
    }

    &--variant-secondary-border {
        color: var(--clr-txt);
        background-color: transparent;
        border-color: var(--clr-border);

        &:not(:disabled):not([aria-disabled="true"]):hover {
            background-color: var(--clr-border-alt);
            border-color: var(--clr-border-alt);
            box-shadow: var(--shadow);
        }
    }

    &--variant-accent {
        color: var(--clr-bg);
        background-color: var(--clr-accent);

        &:not(:disabled):not([aria-disabled="true"]):hover {
            background-color: var(--clr-accent-alt);
            box-shadow: var(--shadow);
        }
    }

    &--variant-accent-border {
        color: var(--clr-accent);
        background-color: transparent;
        border-color: var(--clr-accent);

        &:not(:disabled):not([aria-disabled="true"]):hover {
            color: var(--clr-bg);
            background-color: var(--clr-accent-alt);
            border-color: var(--clr-accent-alt);
            box-shadow: var(--shadow);
        }
    }

    // sizes
    &--size-small {
        --btn-min-height: var(--btn-min-height-sm);

        font-size: var(--txt-sm);
    }

    &--size-large {
        --btn-min-height: var(--btn-min-height-lg);

        border-radius: var(--border-radius-lg);
        padding-inline: var(--spacing-lg);
    }

    // shapes
    &--shape-pill {
        border-radius: 9999px;
    }

    &--shape-circle {
        aspect-ratio: 1;
        padding: var(--spacing-sm);
        border-radius: 50%;
    }
}

@keyframes spin {
    to {
        transform: rotate(1turn);
    }
}
